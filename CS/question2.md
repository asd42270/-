### 웹 브라우저 공격을 아는대로 설명해주세요!
- 웹 브라우저 공격에는 많은 것들이 있다. 

#### 웹 브라우저 공격
- 웹 서비스 상에서 발견되는 허점을 이용해 악의적인 행위를 하는 것.
- 방화벽을 통해 예방할 수 있다.

##### SQL injection
- SQL을 악의적으로 이용하는 공격이다. 보안상 취약점을 이용해 기존 SQL에 임의의 SQL문을 주입하고, 조작하여 악의적인 공격을 감행한다.
- 프레임워크를 사용하지 않는 PHP, JSP 시절에 자주 발생했던 사고였다.
- Error based SQL injection: 논리적 에러를 이용한 것. 이를테면 or 연산을 의도적으로 주입하여 공격한다던지 등등
- Union based SQL injection: Union(aka 합집합)을 사용하여 두 개의 쿼리의 결과를 통합하여 하나의 테이블로 보여주는 키워드.
- Blind SQL injection: 참/거짓 정보를 이용한다. 시간 지연 쿼리를 주입하여 응답 시간의 차이로 참, 거짓을 판별한다.

##### 대응 방법
- 서버 내에서 조치
  - 웹 서버의 오류 정보가 사용자에 노출되지 않도록 조치: 사용자에게는 에러 메시지만 노출하고, 세부 에러 정보는 숨긴다.
  - 데이터베이스의 접근 권한을 최소화(접근해야 하는 사람만 접근할 수 있도록)
  - 사용자 입력 폼에 필터링 규칙 적용: 정규 표현식을 통해 허용되지 않는 문자를 제거 or 치환
- 개발 시 보안 조치
  - 입력 값에 대한 검증과 예외처리: 길이제한 듣
  - ORM 사용: SQL 쿼리를 작성하지 않고 데이터베이스 작업이 가능하므로 SQL injection 감소

#### XSS: Cross Site Scripting
- 공격하려는 사이트에 악성 스크립트를 삽입할 수 있는 보안 취약점
- XSS를 통해 C&C(좀비 PC에 명령을 내리거나 악성 코드를 제어하는 서버)로 리다이렉트하거나 사용자의 쿠키를 탈취하여 세션을 가로채는(하이재킹) 공격을 할 수 있다.
###### Stored XSS
- 공격자가 제공한 데이터가 서버에 저장된 후 지속적으로 서비스를 제공하는 정상 페이지에서 다른 사용자에게 스크립트가 노출되는 기법
- 해커가 악의적인 스크립트가 담긴 게시물을 등록 -> 해당 스크립트가 저장 -> 다른 사용자가 게시물을 읽음 -> 스크립트가 실행됨
###### Reflected XSS
- 웹 어플리케이션의 지정된 파라미터를 사용할 때 발생하는 취약점을 이용한 공격법
- "검색어" 같은 쿼리스트링을 URL에 담아 전송했을 때, 서버가 필터링을 거치지 않고 쿼리에 포함된 스크립트를 응답 페이지에 담아 전송함으로써 발생한다.
- 공격용 스크립트가 대상 웹사이트에 있지 않고 다른 매체(타 사이트, 이메일)에 포함될 수 있다.
- Stored XSS와 다르게 데이터베이스에 스크립트가 저장되지 않고 응답 페이지로 바로 클라이언트에 전달된다는 차이점이 있다.
- 해커가 악의적인 스크립트를 url에 담아 공유 -> 사용자가 클릭하면 스크립트가 삽입된 채로 페이지에 연결 -> 공격 성공!
###### DOM XSS
- 웹 페이지의 클라리언트 측 스크립트를 이용한 공격이다.
- JavaScript에 악성 스크립트를 삽입하여 클라이언트 측 브라우저에서 악성 스크립트가 실행되도록 하는 공격이다.

###### 대응 방법
- 입력 값 검증: 입력 전 or 서버에 전달하기 전에 데이터를 검증한다.(길이 제한, 지정된 형식인지, 정규식 등등)
- 출력 값 검증: 스크립트로 해석될 여지가 있는 특수문자들을 인코딩해서 보여준다.
- 보안 라이브러리 사용: 라이브러리를 통해 보안 체계를 구축한다. ex) Lucy-Xss-Servlet-Filter, AntiXSS, OWASP

#### CSRF
- 사이트 간의 요청을 위조하여 특정 웹사이트의 사용자가 의도하지 않은 요청을 실행하도록 속이는 방법이다.
- 3가지 조건이 만족되어야 한다.
  1. 보안이 취약한 서버로부터 이미 로그인이 되어 있는 상태여야 한다.
  2. 쿠키 기반의 세션 정보를 획득할 수 있어야 한다.
  3. 공격자는 서버를 공격하기 위한 요청 방법에 대해 미리 파악하고 있어야 한다.
- 사용자가 보안이 취약한 서버에 로그인 -> 서버에 저장된 세션 정보를 사용할 수 있는 세선 ID가 사용자의 브라우저 쿠키에 저장됨 -> 공격자는 사용자가 악성 스크립트 페이지를 누르도록 유도 -> 사용자가 해당 페이지 접근하면 쿠키에 저장된 세션 ID와 함께 서버로 요청 -> 서버는 요청이 인증된 사용자로부터 온 것이라 판단하고 처리
##### 예방 방법
- 사용자 입장에서는 url 클릭만 안 하면 된다.
- 개발자/운영자:
  - 1. Referer Check(레퍼러 체크): 요청 헤더 정보에서 Referrer 값 일치 여부를 검증한다.
    2. CAPTCHA: "로봇이 아닙니다." 같은 테스트를 도입한다.
    3. CSRF 토큰 사용: 사용자 세션에 임의의 값을 저장하여 모든 요청마다 해당 값을 포함하여 전송하도록 한다.
- 대부분의 프레임워크는 CSRF 공격을 방어할 수 있도록 플러그인을 잘 제공하고 있다. 그럼에도 보안에는 신경을 꼭 써야한다!

#### Command Injection
- 쉘을 실행시키는 로직을 이용한 공격.
- 쉘 명령을 실행시키는 시스템 함수를 사용하지 않으면 됨.

#### File Upload Attack
- 공격 스크립트가 담긴 파일을 서버로 업로드 하는 공격.
- 쉘 명령이 가능한 코드가 담긴 파일을 업로드 하고, 해커가 URL을 통한 접근이 가능해지면 Command Injection과 같은 효과를 볼 수 있음.
- 업로드 파일의 타입을 제한한다.
- 파일의 이름과 확장자를 난수화하여 저장한다.
- 요즘은 클라우드 서비스가 제공해주는 파일 스토리지를 이용하기도하고 프레임워크에서 제공해주는 기능을 쉽게 이용할 수 있어서 예전보다 막기 쉬워졌다.

#### DDos
- 분산 서비스 거부 공격으로 분산된 시스템을 이용하여 서버에 비정상적으로 많은 트래픽을 보내 마비시키는 공격
- 예방책: 확장 가능한 분산 시스템 설계, 공격 IP 필터링, 서비스 지역 외의 IP를 막는다.

#### Dictionary Attack
- 미리 등록한 문자열들을 암호로 대입하는 공격
- 로그인 시도 횟수에 제한을 두거나 OTP같은 2차 인증을 도입하면 된다.
