![image](https://github.com/user-attachments/assets/4f80c397-6576-47b4-9a03-21dda4dddfab)### 서버사이드렌더링(SSR)이 뭐에요?
- 요거를 설명하려면 CSR과 비교하면서 설명해야 된다.

#### 그런데 SPA랑 MPA가 뭐에요??
- SPA(Single Page Application): 하나의 페이지로 구성된 웹 어플리케이션,  한 번에 페이지 리소스를 가져와서 사용자의 요청에 즉각적인 응답을
가져온다.
- MPA(Multi Page Application): 요청마다 새로운 HTML을 받아와서, 페이지 전체를 새로 렌더링하는 전통적인 방법, Ajax의 등장으로 SPA를 더 자주 사용하게 됨. 

#### 그러면 CSR이 뭐에요?
- SSR과 대비되는 개념으로 Client Side Rendering의 약어이다. 클라이언트 측에서 렌더링을 한다.
- CSR은 간단하게 말해서 서버에서 전체 페이지를 한 번 렌더링하여 보여주고, 사용자가 요청할 때마다(페이지를 이동하거나, 한 페이지 내에서
다른 버튼을 클릭한다던지) 리소스를 서버에서 제공 받아 클라이언트가 해석하고 렌더링하는 방식이다.
- SPA 방식을 사용, 웹 어플리케이션에 필요한 정적 리소스를 초반에 한 번에 받아서 다운로드하고, 사용자가 요청 시 페이지 갱신에 필요한 데이터만
전달 받아서 사용한다.
- User가 웹사이트에 방문 -> 브라우저가 콘텐츠를 요청 -> 서버가 브라우저에 빈 뼈대 HTML과 거기에 연결된 JS링크를 전달
-> 브라우저가 JS파일을 다운로드, 동적으로 페이지를 생성하여 브라우저에 페이지를 띄워줌.
- 이러면?? 초기에 로딩 속도가 느림. 다운로드, 페이지 생성까지 다 기다려야 해서, 그러나 이후 로딩 속도는 빠름, 그리고 서버의 부하가 적다!, 반응속도도 빠르고, UX도 우수해요.

- 그런데 브라우저의 검색엔진은 HTML을 읽어서 검색 가능한 색인(index)을 만드는데, 뼈대만 있으니 검색 엔진이 사용하기에 아주 불편하다.
이 말은 뭐다?? 검색 엔진 최적화가 불리하다.(SEO가 불리하다.)

- 그래서 장점은? 화면 깜빡임이 없다. 초기 로딩 이후 구동 속도가 빠르다. TTV와 TTI 사이의 간극이 없다. 서버의 부하가 줄어든다.
- 그러면 단점은? 초기 로딩 속도가 느리다. SEO에 불리하다.


#### SSR은요?
- Server Side Rendering. 서버 측에서 렌더링을 한다.
- 새로운 요청이 있을 때마다 이미 렌더링한 정적 리소스를 가져오는 MPA 방식을 사용하는 방식이다.
- 요청 시 서버에서 즉시 만들기 때문에 데이터가 달라져서 미리 만들이 어려운 페이지에 적합하다.
- User가 웹사이트에 방문 -> 브라우저가 콘텐츠를 요청 -> 서버가 브라우저에게 렌더링 준비를 마친 HTML과 JS코드를 응답으로 전달 -> 바로 렌더링, JS코드 다운, HTML에 JS 로직을 연결
- 서버에서 렌더링 준비를 마친 HTML을 브라우저에 전달한다.(모든 데이터를 담아서 전달함.) 그러면?? SEO에 유리하다.
- JS코드를 다운 받고 실행하기 전에 사용자가 페이지를 볼 수 있다. 초기 구동 속도가 빠르다.

- 그래서 장점은? 초기 구동속도가 빠르다. SEO에 유리하다.
- 그러면 단점은? 화면 깜빡임이 있다.(요청마다 서버를 거쳐야 하니까여) TTV와 TTI 사이 간극이 있다.(중간 중간 요청마다 페이지 로딩 시간이 걸린다) 서버의 부하가 있다.

##### SSG요?
- Static Site Generation. 
- 미리 다 만들어 두니까 바뀔 일이 거의 없는 페이지에 적합하다.
- 빌드 시 HTML을 미리 렌더링한다.
- SSR과 달리 빌드 시간에 HTML을 렌더링하므로 SSR보다 빠르다.
- 모든 요청에 대해서 HTML 페이지를 작성하지 않아도 되고, 클라이언트 사이드 브라우저에서도 HTML 페이지를 작성하지 않아도 된다!!!

#### 요즘은 CSR을 많이 사용한다던데, CSR의 단점을 보완하고 싶어요!
- 초기 로딩 속도를 보완하자! code splitting, tree-shaking, chunk 분리
- SEO 개선! pre-rendering: 라이브러리나 플러그인을 통해 각 페이지에 대한 HTML 파일을 미리 생성해둔 요청자가 크롤러면 pre-rendering된 페이지를 미리 보여준다!
- CSR에 SSR/SSG를 도입하자!
  
#### 예?? CSR에 SSR/SSG를 도입이요?
- 별도의 서버를 직접 운영해버린다!
- 프레임워크를 이용한다.(Next.js를 사용하면 페이지 별로 SSR,SSG를 선택할 수 있다. 이 외에도 Gatsby, Nuxt.js, Angular Universal 등등 요런 프레임워크를 사용하면 딘다!)
- 그런데 프레임워크를 사용하더라도 코드 복잡도가 올라가고, 직접 제어할 수 없는 블랙박스 영역이 존재한다.

#### 그림!
![image](https://github.com/user-attachments/assets/10b08cf6-8560-492f-955e-a9b7995f66b1)

#### Isomorphic APP, Universal Rendering
- 초기 렌더링 방식으로 SSR을 사용하고, 이 외에는 CSR을 사용하는 방식이다!
- Isomorphic APP: 서버와 클라이언트에서 동일한 코드가 동작하는 어플리케이션이다. 클라이언트와 서버가 모두 같은 코드로 돌아가서
예상과는 다른 코드가 동작할 수 있지만  초기 로딩 속도를 보완할 수 있고, SEO를 개선할 수 있고, CSR의 장점을 사용할 수 있어요!

#### 그러면 대체 뭘 써요?
- 서비스 성격에 따라 달라요.
- 페이지가 대부분이 고객의 개인 정보로 이루어져 있어 검색 엔진에 노출될 필요는 없고 유저와 상호작용이 많다면 CSR을 사용하자.
- 그런데 누구에게나 같은 내용을 보여주고 페이지 데이터가 자주 바뀌면 SSR을 사용하자!
- 여기서 내용 업데이트를 자주 안 하면 SSG를 사용하자!
- 사용자에 따라서 페이지 내용이 달라지고, 빠른 인터랙션이 중요하고 화면 로딩이 빨라야하고, 검색 엔진에 노출되어 상위에 노출되는 것이 좋으면 CSR+SSR을 사용하자!(Universal Rendering)
